(this["webpackJsonpspot-x-match"]=this["webpackJsonpspot-x-match"]||[]).push([[0],{105:function(e,t,a){e.exports=a(154)},110:function(e,t,a){},111:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),i=a.n(s),l=(a(110),a(111),a(12)),c=a.n(l),o=a(15),u=a(10),m=a(83),p=a(42),g=a.n(p),f=a(84),d=a.n(f),b=a(85),x=a.n(b),h=Object(n.createContext)();function v(e){var t=function(e){var t=new g.a,a=Object(n.useState)(e),r=Object(u.a)(a,2),s=r[0],i=r[1];return[s,function(){var e=Object(o.a)(c.a.mark((function e(a,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setAccessToken(n),t.searchArtists(a,{limit:1}).then((function(e){var a=e.body.artists.items[0],n={id:a.id,name:a.name,images:a.images,genres:a.genres,url:a.external_urls};t.getArtistAlbums(a.id,{limit:50}).then(function(){var e=Object(o.a)(c.a.mark((function e(a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.body.items,e.t0=m.a,e.t1={},e.t2=n,e.t3=r.filter((function(e){return"album"===e.album_type&&"album"===e.album_group})).filter((function(e,t,a){return t===a.findIndex((function(t){return t.name.toUpperCase()===e.name.toUpperCase()}))})),e.next=7,Promise.all(r.filter((function(e){return"single"===e.album_type})).filter((function(e,t,a){return t===a.findIndex((function(t){return t.name.toUpperCase()===e.name.toUpperCase()}))})).map(function(){var e=Object(o.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getAlbumTracks(a.id).then((function(e){var t=e.body.items[0].preview_url;return{name:e.body.items[0].name,release_date:a.release_date,image:a.images[2].url,id:a.id,preview_url:t}})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:e.t4=e.sent,e.t5={albums:e.t3,singles:e.t4},n=(0,e.t0)(e.t1,e.t2,e.t5),i(n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()]}(),a=Object(u.a)(t,2),s=a[0],i=a[1],l=function(e){var t=new g.a,a=Object(n.useState)(e),r=Object(u.a)(a,2),s=r[0],i=r[1];return[s,function(){var e=Object(o.a)(c.a.mark((function e(a,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setAccessToken(n),t.getAlbumTracks(a).then((function(e){i(e.body.items)})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),function(){i()}]}(),p=Object(u.a)(l,3),f=p[0],b=p[1],v=p[2],y=function(e){var t=new d.a("724f6d4a2cffed7daf345f166c4974dd"),a=Object(n.useState)(e),r=Object(u.a)(a,2),s=r[0],i=r[1];return[s,function(){var e=Object(o.a)(c.a.mark((function e(a,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getLyricsMatcher({q_artist:a.toLowerCase(),q_track:n.toLowerCase()}).then((function(e){if(404===e.message.header.status_code||""===e.message.body.lyrics.lyrics_body)i(!1);else{var t=e.message.body.lyrics.lyrics_body.slice(0,-69);i(t)}})).catch((function(e){console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),function(){i()}]}(),E=Object(u.a)(y,3),w=E[0],k=E[1],j=E[2],O=function(e){var t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(u.a)(i,2),c=l[0],o=l[1];return[r,function(e,t){s({songUrl:e,songName:t})},c,function(){o(!0)}]}(),N=Object(u.a)(O,4),C=N[0],S=N[1],L=N[2],A=N[3],I=function(e){var t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],s=a[1];Object(n.useEffect)((function(){r||x.a.get("http://localhost:3001/").then((function(e){console.log("Token: ",e.data.access_token),localStorage.setItem("token",e.data.access_token),localStorage.setItem("token_expires_in",i(e.data.expires_in)),s(!0)})).catch((function(e){console.log(e)}))}),[r,"http://localhost:3001/"]);var i=function(e){var t=1e3*e+Date.now();return console.log("Expires: ",new Date(t)),t},l=function(e){return new Promise((function(t){return setTimeout(t,e)}))};return[function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token_expires_in"),!(new Date>t)){e.next=8;break}return s(!1),e.next=5,l(500);case 5:case 8:return e.abrupt("return",localStorage.getItem("token"));case 9:case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()]}(),_=Object(u.a)(I,1)[0],T=function(e){var t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],s=a[1];return[r,function(e,t){s(t)},function(){s()}]}(!1),W=Object(u.a)(T,3),U=W[0],D=W[1],P=W[2];return r.a.createElement(h.Provider,{value:{artist:s,pickArtist:i,album:f,pickAlbum:b,resetAlbum:v,lyrics:w,pickLyrics:k,resetLyrics:j,song:C,pickSong:S,playing:L,play:A,isTokenExpired:_,singles:U,handleSingleChange:D,resetSingles:P}},e.children)}var y=a(212),E=a(197),w=a(4);var k=Object(w.a)({notchedOutline:{borderColor:"black !important"},input:{height:"60px",width:"300px",fontSize:"1rem"},form:{display:"flex",justifyContent:"center",marginTop:"2rem",alignItems:"center"},spinner:{position:"relative",right:"42px"}})((function(e){var t=function(e){var t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],s=a[1];return[r,function(e){s(e.target.value)},function(){s("")}]}(""),a=Object(u.a)(t,3),s=a[0],i=a[1],l=a[2],m=Object(n.useContext)(h),p=m.artist,g=m.pickArtist,f=m.album,d=m.resetAlbum,b=m.lyrics,x=m.resetLyrics,v=m.isTokenExpired,w=Object(n.useState)(!1),k=Object(u.a)(w,2),j=k[0],O=k[1];return Object(n.useEffect)((function(){O(!1)}),[p]),r.a.createElement("form",{className:e.classes.form,noValidate:!0,autoComplete:"off",onSubmit:function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(),""!==s){e.next=4;break}return e.abrupt("return","");case 4:return e.t0=g,e.t1=s,e.next=8,v();case 8:return e.t2=e.sent,e.next=11,(0,e.t0)(e.t1,e.t2);case 11:f&&d(),b&&x(),O(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement(y.a,{id:"standard-basic",label:"Search",onChange:i,value:s,placeholder:"Artist name...",InputProps:{classes:{notchedOutline:e.classes.notchedOutline},className:e.classes.input},InputLabelProps:{style:{color:"gray"},shrink:!0,margin:"dense"},variant:"outlined"}),r.a.createElement(E.a,{size:30,className:e.classes.spinner,style:{opacity:j?.8:0}}))})),j=a(199),O=a(200),N=a(215),C=a(201),S=a(31),L=a(216),A=a(89),I=a.n(A),_=a(198),T=a(214),W=a(87),U=a.n(W);var D=Object(w.a)({artistWrapper:{display:"flex",justifyContent:"space-around",flexDirection:"column",alignItems:"center"},artistCard:{maxWidth:345,marginBottom:"20px",display:"inline-block",background:"linear-gradient(90deg, rgba(184,183,200,1) 0%, rgba(153,153,158,1) 0%, rgba(213,213,213,1) 65%)",boxShadow:"6px 6px 15px -4px rgba(77,71,77,1)",zIndex:1,transition:"all 0.5s"},artistAvatar:{height:"320px",width:"320px",borderRadius:"2px"},artistName:{fontWeight:"600",color:"white",textShadow:"4px 4px 6px rgba(66,66,66,0.77)"},artistTooltip:{position:"relative",top:"5px",left:"10px",color:"rgb(38, 38, 38)"},playerWrapper:{maxWidth:"330px",transition:"opacity 0.3s ease-in"},nowPlaying:{maxHeight:"31px",overflow:"hidden",marginTop:"7px"}})((function(e){var t=Object(n.useContext)(h),a=t.resetAlbum,s=t.singles,i=t.handleSingleChange,l=t.artist,c=t.song,o=t.playing;return r.a.createElement("div",null,l&&r.a.createElement("div",{className:e.classes.artistWrapper},r.a.createElement(T.a,{value:!!s,exclusive:!0,onChange:i,"aria-label":"text alignment",style:{marginBottom:"20px"}},r.a.createElement(_.a,{value:!0,"aria-label":"singles-option",disabled:!!s,onClick:function(){return a()}},"singles"),r.a.createElement(_.a,{value:!1,"aria-label":"album-option",disabled:!s},"albums")),r.a.createElement(j.a,{className:e.classes.artistCard},r.a.createElement(O.a,{avatar:r.a.createElement(N.a,{className:e.classes.artistAvatar,variant:"square",src:l.images[1].url})}),r.a.createElement(C.a,null,r.a.createElement(S.a,{className:e.classes.artistName,gutterBottom:!0,variant:"h5",component:"h2",align:"center"},l.name.toUpperCase(),r.a.createElement(L.a,{className:e.classes.artistTooltip,title:"Click to open on Spotify"},r.a.createElement(I.a,{onClick:function(){return console.log("CLICK")}}))))),r.a.createElement("div",{className:e.classes.playerWrapper,style:{opacity:c?"1":"0"}},r.a.createElement(U.a,{url:c?c.songUrl:"",playing:o,controls:!0,height:50,width:330,config:{file:{attributes:{controlsList:"nodownload"}}},onContextMenu:function(e){return e.preventDefault()},className:e.classes.player,volume:.1}),r.a.createElement(S.a,{className:e.classes.nowPlaying,gutterBottom:!0,noWrap:!0,variant:"overline",component:"h4",align:"center"},"Playing: ".concat(c?c.songName:"")))))})),P=a(210),R=a(196),B=a(205),H=a(91),z=a.n(H),F=a(204),q=a(213),M=a(206),V=a(202),G=a(203);var J=Object(w.a)({song:{height:"66.4px"},songName:{marginLeft:"15px"},songSubtext:{marginLeft:"23px"},songNumber:{fontWeight:"600",fontSize:"14px"}})((function(e){var t=Object(n.useContext)(h),a=t.artist,s=t.pickLyrics,i=t.pickSong,l=t.play;return r.a.createElement("div",null,r.a.createElement(V.a,{className:e.classes.song,button:!0,onClick:function(){s(a.name,e.songName),i(e.songUrl,e.songName),l()},disabled:null===e.songUrl},r.a.createElement(G.a,{secondary:null===e.songUrl?"No song available :(":"",secondaryTypographyProps:{classes:{root:e.classes.songSubtext}}},r.a.createElement("span",{className:e.classes.songNumber},e.index),r.a.createElement("span",{className:e.classes.songName},e.songName))),r.a.createElement(F.a,null))})),Y=a(190),K=a(194),$=a(90),Q=a.n($);var X=Object(w.a)({lyricsWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},lyrics:{color:"gray",fontFamily:"Roboto",minWidth:"300px",maxWidth:"300px",height:"auto",maxHeight:"618px",textAlign:"center",padding:"25px",borderRadius:"5px"},button:{marginBottom:"4px",marginRight:"auto",position:"absolute"}})((function(e){var t=Object(n.useContext)(h).resetLyrics;return r.a.createElement(K.a,{in:e.playing},r.a.createElement("div",{className:e.classes.lyricsWrapper},r.a.createElement("div",null,r.a.createElement(B.a,{className:e.classes.button,"aria-label":"delete",onClick:function(){return t()},size:"small"},r.a.createElement(Q.a,null)),r.a.createElement(Y.a,{className:e.classes.lyrics,rowsMin:20,"aria-label":"maximum height",value:e.songLyrics}))))}));function Z(e){return r.a.createElement(M.a,Object.assign({},e,{direction:"up"}))}var ee=Object(w.a)({root:{display:"flex",minHeight:"676px"},list:{maxHeight:676,overflow:"auto",padding:0,margin:"auto"},button:{height:"65px",width:"65px",marginLeft:"1rem",alignSelf:"center"},snackbarText:{color:"white",fontFamily:"Roboto",fontWeight:"600",textShadow:"4px 4px 6px rgba(66,66,66,0.77)"},snackbar:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#868686"}})((function(e){var t=Object(n.useContext)(h),a=t.album,s=t.resetAlbum,i=t.lyrics,l=t.resetLyrics,c=t.playing;return r.a.createElement("div",{className:e.classes.root},r.a.createElement(B.a,{className:e.classes.button,onClick:function(){s(),l()}},r.a.createElement(z.a,{fontSize:"large"})),r.a.createElement(R.a,{className:e.classes.list,component:"nav","aria-label":"song list",style:{width:i?"330px":"450px"}},r.a.createElement(F.a,null),a.map((function(e,t){return r.a.createElement(J,{songName:e.name,songUrl:e.preview_url,index:t+1,key:e.id})}))),!1===i&&r.a.createElement(q.a,{open:!0,message:"NO LYRICS AVAILABLE",TransitionComponent:Z,ContentProps:{classes:{message:e.classes.snackbarText,root:e.classes.snackbar}}}),i&&r.a.createElement(X,{songLyrics:i,playing:c}))})),te=a(207);var ae=Object(w.a)({single:{height:"111.5px"},singleImage:{height:"70px",width:"70px"},singleName:{marginLeft:"15px"},singleNameWrapper:{overflow:"hidden",textOverflow:"ellipsis"},singleSubtext:{marginLeft:"15px"},releasedDate:{margin:"0",marginLeft:"15px",fontFamily:"Roboto",fontSize:"12px"}})((function(e){var t=Object(n.useContext)(h),a=t.artist,s=t.pickLyrics,i=t.play,l=t.pickSong;return r.a.createElement("div",null,r.a.createElement(V.a,{className:e.classes.single,button:!0,onClick:Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s(a.name,e.singleName),l(e.singleUrl,e.singleName),i();case 3:case"end":return t.stop()}}),t)}))),disabled:null===e.singleUrl},r.a.createElement(te.a,null,r.a.createElement(N.a,{className:e.classes.singleImage,src:e.singleImage,variant:"rounded"})),r.a.createElement(G.a,{secondary:null===e.singleUrl?"No song available":"",secondaryTypographyProps:{classes:{root:e.classes.singleSubtext}},primaryTypographyProps:{noWrap:!0}},r.a.createElement("div",{className:e.classes.singleNameWrapper},r.a.createElement("span",{className:e.classes.singleName},e.singleName)),r.a.createElement("p",{className:e.classes.releasedDate},"Released: ".concat(e.releasedDate)))),r.a.createElement(F.a,null))}));function ne(e){return r.a.createElement(M.a,Object.assign({},e,{direction:"up"}))}var re=Object(w.a)({root:{display:"flex",minHeight:"676px",justifyContent:"space-between"},list:{maxHeight:676,overflow:"auto",padding:0,margin:"auto"},button:{height:"65px",width:"65px",marginRight:"auto",marginLeft:"2rem",alignSelf:"center"},snackbarText:{color:"white",fontFamily:"Roboto",fontWeight:"600",textShadow:"4px 4px 6px rgba(66,66,66,0.77)"},snackbar:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#868686"}})((function(e){var t=Object(n.useContext)(h),a=t.artist,s=t.lyrics,i=t.playing;return r.a.createElement("div",{className:e.classes.root},r.a.createElement(R.a,{className:e.classes.list,component:"nav","aria-label":"song list",style:{width:s?"370px":"450px"}},r.a.createElement(F.a,null),a.singles.map((function(e){return r.a.createElement(ae,{singleName:e.name,singleImage:e.image,singleID:e.id,key:e.id,releasedDate:e.release_date,singleUrl:e.preview_url})}))),!1===s&&r.a.createElement(q.a,{open:!0,message:"NO LYRICS AVAILABLE",TransitionComponent:ne,ContentProps:{classes:{message:e.classes.snackbarText,root:e.classes.snackbar}}}),s&&r.a.createElement(X,{songLyrics:s,playing:i}))})),se=a(208),ie=a(209);var le=Object(w.a)({albumGrid:{margin:"0.5px",cursor:"pointer",transition:"opacity 0.3s ease-in","&:hover":{opacity:"0.65"}},albumArt:{height:"220px",width:"220px"}})((function(e){var t=Object(n.useContext)(h),a=t.artist,s=t.pickAlbum,i=t.isTokenExpired;return r.a.createElement("div",{style:{margin:a.albums.length<3?"auto":""}},r.a.createElement(se.a,{className:e.classes.albumGrid,key:e.albumId,onClick:Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=s,t.t1=e.albumId,t.next=4,i();case 4:return t.t2=t.sent,t.next=7,(0,t.t0)(t.t1,t.t2);case 7:case"end":return t.stop()}}),t)})))},r.a.createElement("img",{className:e.classes.albumArt,src:e.albumCover,alt:"Album cover"}),r.a.createElement(ie.a,{title:e.albumName,subtitle:r.a.createElement("span",null,"Released: ",e.releasedDate)})))}));var ce=Object(w.a)({root:{width:800},gridList:{width:680,maxHeight:676,margin:"auto !important"}})((function(e){var t=Object(n.useContext)(h),a=t.artist,s=t.album,i=t.singles;return r.a.createElement("div",{className:e.classes.root},a&&!s&&!i&&r.a.createElement(P.a,{cellHeight:"auto",className:e.classes.gridList},a.albums.map((function(e){return r.a.createElement(le,{albumId:e.id,albumCover:e.images[1].url,albumName:e.name,releasedDate:e.release_date,key:e.id})}))),s&&r.a.createElement(ee,null),a&&i&&r.a.createElement(re,null))})),oe=a(211);var ue=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null,r.a.createElement(k,null),r.a.createElement(oe.a,{className:"container",maxWidth:"lg"},r.a.createElement(D,null),r.a.createElement(ce,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[105,1,2]]]);
//# sourceMappingURL=main.0ae01127.chunk.js.map