(this["webpackJsonpspot-x-match"]=this["webpackJsonpspot-x-match"]||[]).push([[0],{106:function(e,t,a){e.exports=a(155)},111:function(e,t,a){},112:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),o=a.n(s),l=(a(111),a(112),a(12)),i=a.n(l),c=a(15),u=a(10),m=a(83),p=a(42),g=a.n(p),d=a(84),f=a.n(d),b=a(85),h=a.n(b),x=Object(n.createContext)();function v(e){var t=function(e){var t=new g.a,a=Object(n.useState)(e),r=Object(u.a)(a,2),s=r[0],o=r[1];return[s,function(){var e=Object(c.a)(i.a.mark((function e(a,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setAccessToken(n),t.searchArtists(a,{limit:1}).then((function(e){var a=e.body.artists.items[0];if(a){var n={id:a.id,name:a.name,images:a.images,genres:a.genres,url:a.external_urls};t.getArtistAlbums(a.id,{limit:50}).then(function(){var e=Object(c.a)(i.a.mark((function e(a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.body.items,e.t0=m.a,e.t1={},e.t2=n,e.t3=r.filter((function(e){return"album"===e.album_type&&"album"===e.album_group})).filter((function(e,t,a){return t===a.findIndex((function(t){return t.name.toUpperCase()===e.name.toUpperCase()}))})),e.next=7,Promise.all(r.filter((function(e){return"single"===e.album_type})).filter((function(e,t,a){return t===a.findIndex((function(t){return t.name.toUpperCase()===e.name.toUpperCase()}))})).map(function(){var e=Object(c.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getAlbumTracks(a.id).then((function(e){var t=e.body.items[0].preview_url;return{name:e.body.items[0].name,release_date:a.release_date,image:a.images[2].url,id:a.id,preview_url:t}})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:e.t4=e.sent,e.t5={albums:e.t3,singles:e.t4},n=(0,e.t0)(e.t1,e.t2,e.t5),o(n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}else o(!1)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()]}(),a=Object(u.a)(t,2),s=a[0],o=a[1],l=function(e){var t=new g.a,a=Object(n.useState)(e),r=Object(u.a)(a,2),s=r[0],o=r[1];return[s,function(){var e=Object(c.a)(i.a.mark((function e(a,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setAccessToken(n),t.getAlbumTracks(a).then((function(e){o(e.body.items)})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),function(){o()}]}(),p=Object(u.a)(l,3),d=p[0],b=p[1],v=p[2],y=function(e){var t=new f.a("724f6d4a2cffed7daf345f166c4974dd"),a=Object(n.useState)(e),r=Object(u.a)(a,2),s=r[0],o=r[1];return[s,function(){var e=Object(c.a)(i.a.mark((function e(a,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getLyricsMatcher({q_artist:a.toLowerCase(),q_track:n.toLowerCase()}).then((function(e){if(404===e.message.header.status_code||""===e.message.body.lyrics.lyrics_body)o(!1);else{var t=e.message.body.lyrics.lyrics_body.slice(0,-69);o(t)}})).catch((function(e){console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),function(){o()}]}(),E=Object(u.a)(y,3),k=E[0],w=E[1],j=E[2],O=function(e){var t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)(!1),l=Object(u.a)(o,2),i=l[0],c=l[1];return[r,function(e,t){s({songUrl:e,songName:t})},i,function(){c(!0)}]}(),N=Object(u.a)(O,4),C=N[0],S=N[1],L=N[2],I=N[3],A=function(e){var t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],s=a[1],o="https://spot-x-match-authserver.herokuapp.com/";Object(n.useEffect)((function(){r||h.a.get(o).then((function(e){console.log("Token: ",e.data.access_token),localStorage.setItem("token",e.data.access_token),localStorage.setItem("token_expires_in",l(e.data.expires_in)),s(!0)})).catch((function(e){console.log(e)}))}),[r,o]);var l=function(e){var t=1e3*e+Date.now();return console.log("Expires: ",new Date(t)),t},m=function(e){return new Promise((function(t){return setTimeout(t,e)}))};return[function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token_expires_in"),!(new Date>t)){e.next=8;break}return s(!1),e.next=5,m(500);case 5:case 8:return e.abrupt("return",localStorage.getItem("token"));case 9:case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r]}(),T=Object(u.a)(A,2),_=T[0],W=T[1],D=function(e){var t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],s=a[1];return[r,function(e,t){s(t)},function(){s()}]}(!1),U=Object(u.a)(D,3),P=U[0],R=U[1],z=U[2];return r.a.createElement(x.Provider,{value:{artist:s,pickArtist:o,album:d,pickAlbum:b,resetAlbum:v,lyrics:k,pickLyrics:w,resetLyrics:j,song:C,pickSong:S,playing:L,play:I,isTokenExpired:_,token:W,singles:P,handleSingleChange:R,resetSingles:z}},e.children)}var y=a(213),E=a(191),k=a(4),w=a(86),j=a.n(w);var O=Object(k.a)({notchedOutline:{borderColor:"#1e88e5 !important"},input:{height:"60px",width:"300px",fontSize:"1rem",backgroundColor:"#000000"},form:{display:"flex",justifyContent:"center",marginTop:"2rem",alignItems:"center"},spinner:{position:"relative",right:"42px"},landing:{animationName:"$fadeInDown",animationDuration:"1s",width:"100%",height:"70vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},"@keyframes fadeInDown":{from:{opacity:"0",transform:"translatey(-55px)"},to:{opacity:"1",transform:"translatey(0)"}},helper:{position:"absolute",color:"red",top:"60px",left:"68px"},placeholder:{color:"white","&::placeholder":{color:"white"}}})((function(e){var t=function(e){var t=Object(n.useState)(e),a=Object(u.a)(t,2),r=a[0],s=a[1];return[r,function(e){s(e.target.value)},function(){s("")}]}(""),a=Object(u.a)(t,3),s=a[0],o=a[1],l=a[2],m=Object(n.useContext)(x),p=m.artist,g=m.pickArtist,d=m.album,f=m.resetAlbum,b=m.lyrics,h=m.resetLyrics,v=m.isTokenExpired,k=m.token,w=Object(n.useState)(!1),O=Object(u.a)(w,2),N=O[0],C=O[1];return Object(n.useEffect)((function(){C(!1)}),[p]),r.a.createElement("div",null,k?r.a.createElement("form",{className:e.classes.form,noValidate:!0,autoComplete:"off",onSubmit:function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(),""!==s){e.next=4;break}return e.abrupt("return","");case 4:return e.t0=g,e.t1=s,e.next=8,v();case 8:return e.t2=e.sent,e.next=11,(0,e.t0)(e.t1,e.t2);case 11:d&&f(),b&&h(),C(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement(y.a,{helperText:!1===p?"No results, try again":"",id:"standard-basic",label:"Search",onChange:o,value:s,placeholder:"Artist name...",InputProps:{classes:{notchedOutline:e.classes.notchedOutline,input:e.classes.placeholder},className:e.classes.input},InputLabelProps:{style:{color:"#1e88e5"},shrink:!0,margin:"dense"},variant:"outlined",FormHelperTextProps:{classes:{root:e.classes.helper}}}),r.a.createElement(E.a,{size:30,className:e.classes.spinner,style:{opacity:N&&!1!==p?.8:0}})):r.a.createElement(E.a,{size:250,style:{color:"#0d47a1",position:"absolute",left:"50%",marginLeft:"-125px",top:"50%",marginTop:"-200px"}}),!p&&k&&r.a.createElement("div",{className:e.classes.landing},r.a.createElement("img",{src:j.a,alt:"Logo",style:{height:"300px"}})))})),N=a(200),C=a(201),S=a(216),L=a(202),I=a(31),A=a(217),T=a(90),_=a.n(T),W=a(199),D=a(215),U=a(88),P=a.n(U);var R=Object(k.a)({artistWrapper:{display:"flex",justifyContent:"space-around",flexDirection:"column",alignItems:"center"},artistCard:{maxWidth:345,marginBottom:"20px",display:"inline-block",background:"linear-gradient(90deg, rgba(184,183,200,1) 0%, rgba(153,153,158,1) 0%, rgba(213,213,213,1) 65%)",zIndex:1,transition:"all 0.5s"},artistAvatar:{height:"320px",width:"320px",borderRadius:"2px"},artistName:{fontWeight:"600",color:"#000000",textShadow:"4px 4px 6px rgba(66,66,66,0.77)"},artistTooltip:{position:"relative",top:"5px",left:"10px",color:"#000000",cursor:"pointer"},playerWrapper:{maxWidth:"330px",transition:"opacity 0.3s ease-in"},nowPlaying:{maxHeight:"31px",overflow:"hidden",marginTop:"7px",fontWeight:"550",fontSize:"0.8rem",color:"white"},buttonDisable:{backgroundColor:"#0d47a1 !important"}})((function(e){var t=Object(n.useContext)(x),a=t.resetAlbum,s=t.singles,o=t.handleSingleChange,l=t.artist,i=t.song,c=t.playing;return r.a.createElement("div",null,l&&r.a.createElement("div",{className:e.classes.artistWrapper},r.a.createElement(D.a,{value:!!s,exclusive:!0,onChange:o,"aria-label":"text alignment",style:{marginBottom:"20px",backgroundColor:"#1e88e5"}},r.a.createElement(W.a,{value:!0,"aria-label":"singles-option",disabled:!!s,onClick:function(){return a()},style:{color:"#000000"},classes:{disabled:e.classes.buttonDisable}},"singles"),r.a.createElement(W.a,{value:!1,"aria-label":"album-option",disabled:!s,style:{color:"#000000"},classes:{disabled:e.classes.buttonDisable}},"albums")),r.a.createElement(N.a,{className:e.classes.artistCard},r.a.createElement(C.a,{avatar:r.a.createElement(S.a,{className:e.classes.artistAvatar,variant:"square",src:l.images[1].url})}),r.a.createElement(L.a,null,r.a.createElement(I.a,{className:e.classes.artistName,gutterBottom:!0,variant:"h5",component:"h2",align:"center"},l.name.toUpperCase(),r.a.createElement(A.a,{className:e.classes.artistTooltip,title:"Click to open on Spotify"},r.a.createElement(_.a,{onClick:function(){return window.open(l.url.spotify,"_blank")}}))))),r.a.createElement("div",{className:e.classes.playerWrapper,style:{opacity:i?"1":"0"}},r.a.createElement(P.a,{url:i?i.songUrl:"",playing:c,controls:!0,height:50,width:330,config:{file:{attributes:{controlsList:"nodownload"}}},onContextMenu:function(e){return e.preventDefault()},className:e.classes.player,volume:.15}),r.a.createElement(I.a,{className:e.classes.nowPlaying,gutterBottom:!0,noWrap:!0,variant:"overline",component:"h4",align:"center"},"Playing: ".concat(i?i.songName:"")))))})),z=a(211),B=a(198),H=a(206),F=a(92),q=a.n(F),M=a(205),V=a(214),G=a(207),J=a(203),Y=a(204);var $=Object(k.a)({song:{height:"66.4px","&:hover":{backgroundColor:"rgba(192,192,192, 0.2)"}},songName:{marginLeft:"15px",color:"white"},songSubtext:{marginLeft:"23px",color:"gray"},songNumber:{fontWeight:"800",fontSize:"14px",color:"gray"},divider:{backgroundColor:"gray"}})((function(e){var t=Object(n.useContext)(x),a=t.artist,s=t.pickLyrics,o=t.pickSong,l=t.play;return r.a.createElement("div",null,r.a.createElement(J.a,{className:e.classes.song,button:!0,onClick:function(){s(a.name,e.songName),o(e.songUrl,e.songName),l()},disabled:null===e.songUrl},r.a.createElement(Y.a,{secondary:null===e.songUrl?"No song available :(":"",secondaryTypographyProps:{classes:{root:e.classes.songSubtext}}},r.a.createElement("span",{className:e.classes.songNumber},e.index),r.a.createElement("span",{className:e.classes.songName},e.songName))),r.a.createElement(M.a,{classes:{root:e.classes.divider}}))})),K=a(195),Q=a(196),X=a(91),Z=a.n(X);var ee=Object(k.a)({lyricsWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},lyrics:{color:"white",fontFamily:"Roboto",minWidth:"300px",maxWidth:"300px",height:"auto",maxHeight:"618px",textAlign:"center",padding:"25px",borderRadius:"5px",backgroundColor:"#000000"},button:{marginBottom:"4px",marginRight:"auto",position:"absolute",color:"#1e88e5"}})((function(e){var t=Object(n.useContext)(x).resetLyrics;return r.a.createElement(Q.a,{in:e.playing},r.a.createElement("div",{className:e.classes.lyricsWrapper},r.a.createElement("div",null,r.a.createElement(H.a,{className:e.classes.button,"aria-label":"delete",onClick:function(){return t()},size:"small"},r.a.createElement(Z.a,null)),r.a.createElement(K.a,{className:e.classes.lyrics,rowsMin:20,"aria-label":"maximum height",value:e.songLyrics}))))}));function te(e){return r.a.createElement(G.a,Object.assign({},e,{direction:"up"}))}var ae=Object(k.a)({root:{display:"flex",minHeight:"676px"},list:{maxHeight:676,overflow:"hidden",padding:0,margin:"auto","&:hover":{overflow:"auto"}},button:{height:"65px",width:"65px",marginLeft:"1rem",alignSelf:"center",color:"#1e88e5","&:hover":{backgroundColor:"#e0e0e0"}},snackbarText:{color:"white",fontFamily:"Roboto",fontWeight:"600",textShadow:"4px 4px 6px rgba(66,66,66,0.77)"},snackbar:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#1565c0"},divider:{backgroundColor:"gray"}})((function(e){var t=Object(n.useContext)(x),a=t.album,s=t.resetAlbum,o=t.lyrics,l=t.resetLyrics,i=t.playing;return r.a.createElement("div",{className:e.classes.root},r.a.createElement(H.a,{className:e.classes.button,onClick:function(){s(),l()}},r.a.createElement(q.a,{fontSize:"large"})),r.a.createElement(B.a,{className:e.classes.list,component:"nav","aria-label":"song list",style:{width:o?"330px":"450px"}},r.a.createElement(M.a,{classes:{root:e.classes.divider}}),a.map((function(e,t){return r.a.createElement($,{songName:e.name,songUrl:e.preview_url,index:t+1,key:e.id})}))),!1===o&&r.a.createElement(V.a,{open:!0,message:"NO LYRICS AVAILABLE",TransitionComponent:te,ContentProps:{classes:{message:e.classes.snackbarText,root:e.classes.snackbar}}}),o&&r.a.createElement(ee,{songLyrics:o,playing:i}))})),ne=a(208);var re=Object(k.a)({single:{height:"111.5px"},singleImage:{height:"70px",width:"70px"},singleName:{marginLeft:"15px",color:"white"},singleNameWrapper:{overflow:"hidden",textOverflow:"ellipsis"},singleSubtext:{marginLeft:"15px",color:"gray"},releasedDate:{margin:"0",marginLeft:"15px",fontFamily:"Roboto",fontSize:"12px",color:"white"},divider:{backgroundColor:"gray"}})((function(e){var t=Object(n.useContext)(x),a=t.artist,s=t.pickLyrics,o=t.play,l=t.pickSong;return r.a.createElement("div",null,r.a.createElement(J.a,{className:e.classes.single,button:!0,onClick:Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s(a.name,e.singleName),l(e.singleUrl,e.singleName),o();case 3:case"end":return t.stop()}}),t)}))),disabled:null===e.singleUrl},r.a.createElement(ne.a,null,r.a.createElement(S.a,{className:e.classes.singleImage,src:e.singleImage,variant:"rounded"})),r.a.createElement(Y.a,{secondary:null===e.singleUrl?"No song available":"",secondaryTypographyProps:{classes:{root:e.classes.singleSubtext}},primaryTypographyProps:{noWrap:!0}},r.a.createElement("div",{className:e.classes.singleNameWrapper},r.a.createElement("span",{className:e.classes.singleName},e.singleName)),r.a.createElement("p",{className:e.classes.releasedDate},"Released: ".concat(e.releasedDate)))),r.a.createElement(M.a,{classes:{root:e.classes.divider}}))}));function se(e){return r.a.createElement(G.a,Object.assign({},e,{direction:"up"}))}var oe=Object(k.a)({root:{display:"flex",minHeight:"676px",justifyContent:"space-between"},list:{maxHeight:676,overflow:"hidden",padding:0,margin:"auto","&:hover":{overflow:"auto"}},button:{height:"65px",width:"65px",marginRight:"auto",marginLeft:"2rem",alignSelf:"center"},snackbarText:{color:"white",fontFamily:"Roboto",fontWeight:"600",textShadow:"4px 4px 6px rgba(66,66,66,0.77)"},snackbar:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#1565c0"},divider:{backgroundColor:"gray"}})((function(e){var t=Object(n.useContext)(x),a=t.artist,s=t.lyrics,o=t.playing;return r.a.createElement("div",{className:e.classes.root},r.a.createElement(B.a,{className:e.classes.list,component:"nav","aria-label":"song list",style:{width:s?"370px":"450px"}},r.a.createElement(M.a,{classes:{root:e.classes.divider}}),a.singles.map((function(e){return r.a.createElement(re,{singleName:e.name,singleImage:e.image,singleID:e.id,key:e.id,releasedDate:e.release_date,singleUrl:e.preview_url})}))),!1===s&&r.a.createElement(V.a,{open:!0,message:"NO LYRICS AVAILABLE",TransitionComponent:se,ContentProps:{classes:{message:e.classes.snackbarText,root:e.classes.snackbar}}}),s&&r.a.createElement(ee,{songLyrics:s,playing:o}))})),le=a(209),ie=a(210);var ce=Object(k.a)({albumGrid:{margin:"0.5px",cursor:"pointer",transition:"opacity 0.3s ease-in","&:hover":{opacity:"0.65"}},albumArt:{height:"220px",width:"220px"}})((function(e){var t=Object(n.useContext)(x),a=t.artist,s=t.pickAlbum,o=t.isTokenExpired;return r.a.createElement("div",{style:{margin:a.albums.length<3?"auto":""}},r.a.createElement(le.a,{className:e.classes.albumGrid,key:e.albumId,onClick:Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=s,t.t1=e.albumId,t.next=4,o();case 4:return t.t2=t.sent,t.next=7,(0,t.t0)(t.t1,t.t2);case 7:case"end":return t.stop()}}),t)})))},r.a.createElement("img",{className:e.classes.albumArt,src:e.albumCover,alt:"Album cover"}),r.a.createElement(ie.a,{title:e.albumName,subtitle:r.a.createElement("span",null,"Released: ",e.releasedDate)})))}));var ue=Object(k.a)({root:{width:850},gridList:{width:680,maxHeight:676,margin:"auto !important"}})((function(e){var t=Object(n.useContext)(x),a=t.artist,s=t.album,o=t.singles;return r.a.createElement("div",{className:e.classes.root},a&&!s&&!o&&r.a.createElement(z.a,{cellHeight:"auto",className:e.classes.gridList},a.albums.map((function(e){return r.a.createElement(ce,{albumId:e.id,albumCover:e.images[1].url,albumName:e.name,releasedDate:e.release_date,key:e.id})}))),s&&r.a.createElement(ae,null),a&&o&&r.a.createElement(oe,null))})),me=a(212);var pe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null,r.a.createElement(O,null),r.a.createElement(me.a,{className:"container",maxWidth:"lg"},r.a.createElement(R,null),r.a.createElement(ue,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,a){e.exports=a.p+"static/media/spotxmatchlogo.4a6353f1.svg"}},[[106,1,2]]]);
//# sourceMappingURL=main.12668356.chunk.js.map